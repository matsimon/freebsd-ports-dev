#!/bin/sh
# $FreeBSD$

PATH=/usr/sbin:/usr/bin:/bin ; export PATH

radius_user=freeradius
radius_group=freeradius

radius_raddb_work="%%RADDB_WORK%%"
radius_raddb="%%RADDB%%"
radius_logdir="%%LOGDIR%%"
radius_libdir="%%LIBDIR%%"

    POST-INSTALL)
        # Change ownership of directories
	for dir in $radius_raddb $radius_logdir/radacct \
	    /var/run/radiusd ; do
	    if [ -d $dir ] || [ -L $dir ]; then
		echo "===> Adjusting ownership of directory ${dir}"
		if ! chown -HR $radius_user:$radius_group $dir; then
		    echo "Failed to adjust ownership of ${dir}."
		    exit 1
		fi
	    fi
	done

	for file in $radius_logdir/radius.log $radius_logdir/radutmp \
	    $radius_logdir/radwtmp; do
	    if [ -f $file ]; then
		echo "===> Adjusting ownership of ${file}"
		if ! chown $radius_user:$radius_group $file; then
		    echo "Failed to adjust ownership of ${file}."
		    exit 1
		fi
	    fi
	done

        ;;

# Emacs variables

# Local Variables:
# mode: sh
# sh-basic-offset: 4
# sh-indent-comment: nil
# End:
